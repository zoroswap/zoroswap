use.external_contract::two_pools_contract

begin
    # Inputs: [0, reserve_with_slippage, reserve, liabilities]
    swap.2 
    # : [reserve, reserve_with_slippage, 0, liabilities]
    swap.1
    # : [reserve_with_slippage, reserve, 0, liabilities]
    swap.2
    # : [0, reserve, reserve_with_slippage, liabilities]
    swap.3
    # : [liabilities, reserve, reserve_with_slippage, 0]
    call.two_pools_contract::set_pool0_state
end
